@import 'tailwindcss';

@layer base {
  * {
    @apply border-neutral-700;
  }

  body {
    @apply antialiased;
  }
}

@layer components {
  .app {
    background-attachment: fixed;
  }

  .app-page {
    @apply max-w-2xl mx-auto min-h-screen flex flex-col;
  }

  .app-header {
    @apply flex items-center border-b border-neutral-700/50 px-4 py-5;
  }

  .app-header-title {
    @apply text-2xl font-bold bg-gradient-to-r from-blue-400 to-cyan-400 bg-clip-text text-transparent;
  }

  .app-page-content {
    @apply flex flex-col flex-1 px-4 pt-6 pb-4 overflow-y-auto;
  }

  /* Modern button styles */
  .btn-primary {
    @apply px-6 py-3 rounded-xl bg-gradient-to-r from-blue-500 to-cyan-500 text-white font-semibold shadow-lg shadow-blue-500/30 hover:shadow-xl hover:shadow-blue-500/40 hover:scale-105 active:scale-100 transition-all duration-200;
  }

  .btn-secondary {
    @apply px-6 py-3 rounded-xl bg-neutral-700/50 text-neutral-200 font-medium hover:bg-neutral-700 hover:text-white transition-all duration-200 border border-neutral-600/50;
  }

  .btn-danger {
    @apply px-6 py-3 rounded-xl bg-gradient-to-r from-red-500 to-rose-500 text-white font-semibold shadow-lg shadow-red-500/30 hover:shadow-xl hover:shadow-red-500/40 hover:scale-105 active:scale-100 transition-all duration-200;
  }

  /* Modern card styles */
  .card {
    @apply rounded-2xl p-5 border border-neutral-700/50 hover:border-blue-500/50 transition-all duration-300;
  }

  .card-hover {
    @apply cursor-pointer;
  }

  .card-title {
    @apply text-lg font-bold mb-2;
  }

  /* Modern input styles */
  input[type='text'],
  input[type='number'],
  select {
    @apply w-full px-4 py-3 rounded-xl border border-neutral-700/50 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 focus:outline-none transition-all duration-200 placeholder:text-neutral-500;
  }

  input[type='text']:hover,
  input[type='number']:hover,
  select:hover {
    @apply border-neutral-600;
  }

  /* Modern link styles */
  .link-primary {
    @apply text-blue-400 hover:text-cyan-400 font-medium transition-colors duration-200 flex items-center gap-1;
  }

  /* Bottom navigation */
  .bottom-nav {
    @apply bg-neutral-900/95 backdrop-blur-xl border-t border-neutral-700/50;
    box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.3);
  }

  .nav-link {
    @apply relative transition-all duration-200;
  }

  .nav-link.active {
    @apply text-blue-400;
  }

  .nav-link.active::before {
    content: '';
    @apply absolute -top-0.5 left-1/2 -translate-x-1/2 w-12 h-1 bg-gradient-to-r from-blue-500 to-cyan-500 rounded-full;
  }

  /* Mobile-first: Ensure touch targets are at least 44x44px */
  button,
  a,
  input,
  select {
    min-height: 44px;
    min-width: 44px;
  }

  /* Smooth scrolling */
  html {
    scroll-behavior: smooth;
  }

  summary {
    @apply text-lg mb-2 cursor-pointer;
  }

  /* Modern dialog styles */
  dialog {
    @apply rounded-2xl p-8 max-w-md mx-auto my-auto border border-neutral-700/50;
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
  }

  dialog::backdrop {
    backdrop-filter: blur(8px);
    background: rgba(0, 0, 0, 0.6);
  }

  /* Exercise card specific */
  .exercise-muscle {
    @apply text-sm font-medium text-blue-400 mb-2;
  }

  /* Section headers */
  .section-header {
    @apply text-xl font-bold mb-4 mt-6 first:mt-0;
  }

  /* Label styles */
  label {
    @apply block text-sm font-semibold mb-2;
  }

  select[multiple] {
    optgroup {
      @apply text-sm font-semibold mb-2;
    }

    option {
      @apply py-2 ml-4 pl-2 text-base;
    }

    option:first-child {
      @apply mt-1;
    }
  }

  /* Sortable list styles */
  .sortable-list {
    @apply list-none p-0 m-0;
  }

  .sortable-item {
    @apply mb-2 px-5 py-4 my-2 bg-neutral-100 rounded font-bold text-[1.1em] text-neutral-800 cursor-grab shadow transition-colors transition-transform duration-200 hover:bg-blue-50 hover:scale-105;
  }

  .dragging {
    @apply opacity-30 scale-95;
  }

  .sortable-item:last-child {
    @apply mb-0;
  }
}

/* Respect reduced motion preference */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}
