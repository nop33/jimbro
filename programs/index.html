<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Jimbro - Exercises</title>
    <link rel="icon" href="/favicon.ico" />
    <link rel="apple-touch-icon" href="/apple-touch-icon.png" />
    <link rel="manifest" href="/app.webmanifest" />
  </head>
  <body class="app">
    <div class="app-page">
      <header class="app-header">
        <a id="back-button" class="link-primary"
          ><svg
            xmlns="http://www.w3.org/2000/svg"
            fill="none"
            viewBox="0 0 24 24"
            stroke-width="1.5"
            stroke="currentColor"
            class="size-6"
          >
            <path stroke-linecap="round" stroke-linejoin="round" d="M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18" />
          </svg>
        </a>
        <h1 class="app-header-title">Programs</h1>
        <button id="new-program-btn" class="link-primary ml-auto font-semibold">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            fill="none"
            viewBox="0 0 24 24"
            stroke-width="1.5"
            stroke="currentColor"
            class="size-6"
          >
            <path stroke-linecap="round" stroke-linejoin="round" d="M12 4.5v15m7.5-7.5h-15" />
          </svg>
          New
        </button>
      </header>
      <div class="app-page-content">
        <div id="programs-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
          <!-- Programs will be rendered here -->
        </div>
        <template id="program-item-template">
          <div class="card">
            <header class="items-center">
              <h3 class="program-name card-title">
                <!-- -->
              </h3>
              <button id="edit-program-btn" class="link-primary justify-end">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  fill="none"
                  viewBox="0 0 24 24"
                  stroke-width="1.5"
                  stroke="currentColor"
                  class="size-6"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    d="m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"
                  />
                </svg>
              </button>
            </header>
            <details>
              <summary>Program exercises</summary>
              <div id="exercises-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                <!-- Exercises will be rendered here -->
              </div>
            </details>
          </div>
        </template>
        <template id="exercise-item-template">
          <div class="card card-condensed">
            <div class="flex items-baseline gap-2 justify-between">
              <h3 class="exercise-name card-title">
                <!-- -->
              </h3>
              <span class="exercise-muscle badge">
                <!-- -->
              </span>
            </div>
            <p class="text-sm text-neutral-400 font-medium">
              <span class="exercise-sets"></span> sets Ã— <span class="exercise-reps"></span> reps
            </p>
          </div>
        </template>
      </div>
    </div>

    <dialog id="program-dialog" class="rounded-lg p-6 max-w-md max-h-[90vh] overflow-y-auto">
      <h2 id="dialog-title" class="text-xl font-bold mb-4">New program</h2>
      <form id="program-form" class="flex flex-col gap-4">
        <input type="hidden" id="program-id" name="id" />
        <div>
          <label for="program-name" class="block text-sm font-medium mb-2">Name</label>
          <input
            type="text"
            id="program-name"
            name="name"
            required
            class="w-full p-2 rounded border border-neutral-600"
          />
        </div>
        <div>
          <label class="block text-sm font-medium mb-2">Select program exercises</label>
          <select id="exercises-selection" multiple name="selected-exercises">
            <!-- Exercises will be rendered here -->
          </select>
        </div>
        <div>
          <h3 class="text-sm font-medium mb-2">Reorder program exercises</h3>
          <ul id="selected-exercises-list" class="sortable-list">
            <!-- Selected exercises will be rendered here -->
          </ul>
          <template id="selected-exercise-item-template">
            <li class="sortable-item justify-between items-center flex cursor-move" draggable="true">
              <span class="flex items-center gap-2">
                <svg
                  aria-hidden="true"
                  focusable="false"
                  class="inline-block w-5 h-5 text-neutral-400"
                  viewBox="0 0 20 20"
                  fill="currentColor"
                >
                  <circle cx="7" cy="6" r="1.5" />
                  <circle cx="7" cy="10" r="1.5" />
                  <circle cx="7" cy="14" r="1.5" />
                  <circle cx="13" cy="6" r="1.5" />
                  <circle cx="13" cy="10" r="1.5" />
                  <circle cx="13" cy="14" r="1.5" />
                </svg>
                <span class="selected-exercise-name">
                  <!-- -->
                </span>
              </span>
              <span class="selected-exercise-muscle text-sm text-neutral-400 font-medium">
                <!-- -->
              </span>
            </li>
          </template>
        </div>
        <div class="flex gap-2 justify-end mt-4">
          <div class="flex gap-3 justify-end mt-6">
            <button type="button" id="dialog-cancel" class="btn-secondary">Cancel</button>
            <button type="submit" class="btn-primary">Save</button>
          </div>
        </div>
      </form>
    </dialog>

    <script type="module" src="../src/pages/programs/index.ts"></script>
    <script type="module" src="../src/navigation.ts"></script>
  </body>
</html>
